# Lucy Virtual Try-On Backend - Environment Configuration
# Copy this file to .env and update with your values

# Server Configuration
HOST=0.0.0.0
PORT=5000
DEBUG=False

# AI Model Configuration
MODEL_PATH=yisol/IDM-VTON
DEVICE=cuda  # cuda or cpu
USE_FP16=True  # Use half precision for faster inference (GPU only)

# Model Settings
FAST_INFERENCE_STEPS=4  # Steps for real-time keyframes
QUALITY_INFERENCE_STEPS=25  # Steps for premium capture
GUIDANCE_SCALE=7.5

# WebSocket Configuration
WS_MAX_CONNECTIONS=100
WS_PING_INTERVAL=30
WS_PING_TIMEOUT=10

# File Storage
FABRIC_DIR=data/fabrics
CATALOG_DIR=data/catalog
RESULTS_DIR=data/results
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# Image Processing
TEXTURE_SIZE=1024  # Fabric texture resolution
RESULT_SIZE=1024  # Output image resolution
JPEG_QUALITY=90
PNG_COMPRESSION=6

# Performance
ENABLE_XFORMERS=True  # Enable xformers memory efficient attention
ENABLE_TORCH_COMPILE=True  # Enable torch.compile (PyTorch 2.0+)
ENABLE_ATTENTION_SLICING=True

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/lucy_backend.log

# CORS (comma-separated list of allowed origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com

# Optional: Cloud Storage (AWS S3)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1
# S3_BUCKET=lucy-fabrics

# Optional: Redis for caching
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0

# Optional: Monitoring
# ENABLE_METRICS=True
# METRICS_PORT=9090
